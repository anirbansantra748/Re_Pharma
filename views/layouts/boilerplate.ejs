<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NightSky</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

</head>

<body>

    <!-- Page Content -->
    <%- include("../includes/navbar.ejs") %>
    <div class="container mt-4">
        <%- body %>  <!-- Ensure this exists for injecting pages -->
    </div>
    <br><br><br><br><br><br><br>
    <%- include("../includes/footer.ejs") %>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Dropdown for Ask AI
            let dropdown = document.querySelector(".nav-item.dropdown");
            dropdown.addEventListener("mouseenter", function () {
                let menu = this.querySelector(".dropdown-menu");
                menu.classList.add("show");
            });
            dropdown.addEventListener("mouseleave", function () {
                let menu = this.querySelector(".dropdown-menu");
                menu.classList.remove("show");
            });

            // Notifications Click Toggle
            let notificationsIcon = document.getElementById("notificationsIcon");
            let notificationsContainer = document.getElementById("notificationsContainer");

            notificationsIcon.addEventListener("click", function (event) {
                event.stopPropagation(); // Prevent clicking from closing it immediately
                if (notificationsContainer.style.display === "block") {
                    notificationsContainer.style.display = "none";
                } else {
                    notificationsContainer.style.display = "block";
                }
            });

            // Close notifications when clicking outside
            document.addEventListener("click", function (event) {
                if (!notificationsContainer.contains(event.target) && event.target !== notificationsIcon) {
                    notificationsContainer.style.display = "none";
                }
            });
        });
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
